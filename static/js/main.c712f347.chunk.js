(this["webpackJsonpimage-gallery"]=this["webpackJsonpimage-gallery"]||[]).push([[0],{13:function(e,t,a){e.exports=a(20)},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),s=(a(18),a(5)),l=a(6),m=a(1),c=a(2),p=a(4),u=a(3),h=(a(19),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleLinkChange=function(e){e.preventDefault(),n.setState({imageUrl:e.target.value})},n.submit=function(e){e.preventDefault(),n.props.imageSubmitter(n.state.imageUrl)},n.state={imageUrl:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.props.imageSubmitter,className:this.props.isEmpty?"form_empty":"form"},!this.props.isEmpty&&r.a.createElement("button",{className:"form__button_close button_close button",onClick:this.props.closeForm},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c X"),r.a.createElement("p",{className:"form__p_first form__p"},"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043a \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435"),r.a.createElement("input",{type:"text",className:"form__input_text input_text",placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0441\u044e\u0434\u0430",onChange:this.handleLinkChange}),r.a.createElement("button",{type:"submit",className:"form__button_3d button_3d button",onClick:this.submit},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"),r.a.createElement("p",{className:"form__p_second form__p"},"\u0438\u043b\u0438"),r.a.createElement("input",{className:"input_file",type:"file",accept:".json, image/*",onChange:function(t){return e.props.handleFiles(t.target.files)},id:"input",multiple:!0}),r.a.createElement("p",{className:"form__p_third form__p"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 ",r.a.createElement("label",{htmlFor:"input",className:"form__label_input"},"\u0444\u0430\u0439\u043b")))}}]),a}(r.a.Component)),g=a(9),d=a(10),f=a(11),_=a(12),b=function(e){Object(_.a)(a,e);var t=Object(f.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup",onClick:this.props.closePopup},r.a.createElement("div",{className:"popup__inner"},r.a.createElement("button",{className:"popup__button_delete popup__button button_delete button",onClick:this.props.deleteImage},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement("button",{className:"popup__button_close popup__button button_close button",onClick:this.props.closePopup},"\u0437\u0430\u043a\u0440\u044b\u0442\u044c X"),r.a.createElement("img",{className:"popup__image image",src:this.props.popImageUrl,alt:"imageItem"})))}}]),a}(r.a.Component),y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).imageSubmitter=function(e){if(e){var t=n.state.imageUrlArray;t.push(e),n.setState({imageUrlArray:t})}},n.deleteImage=function(e){n.setState({imageUrlArray:n.state.imageUrlArray.filter((function(e){return e!==n.state.popImageUrl}))})},n.closeForm=function(e){n.setState({showForm:!n.state.showForm})},n.handleFiles=function(e){for(var t=0;t<e.length;t++){var a=e[t],r=new FileReader;"application/json"===a.type&&(r.onload=function(e){var t=[];JSON.parse(e.target.result).galleryImages.forEach((function(e){return t.push(e.url)})),n.setState({imageUrlArray:[].concat(Object(l.a)(n.state.imageUrlArray),t)})},r.readAsText(a)),a.type.startsWith("image/")&&(r.onload=function(e){console.log(e.target.result),n.setState({imageUrlArray:[].concat(Object(l.a)(n.state.imageUrlArray),[e.target.result])})},r.readAsDataURL(a))}},n.handlePopup=function(e){n.setState({showModal:!n.state.showModal,popImageUrl:e})},n.openForm=function(){return n.setState({showForm:!0})},n.onImgLoad=function(e){var t=e.target,a=t.naturalWidth/t.naturalHeight;if(t.parentNode.style.height="auto",window.screen.width<480)return t.parentNode.style.width=120*a+"px",void(t.parentNode.style.flexGrow=120*a);t.parentNode.style.width=200*a+"px",t.parentNode.style.flexGrow=200*a},n.onDragEnter=function(e){e.stopPropagation(),e.preventDefault()},n.onDragOver=function(e){e.stopPropagation(),e.preventDefault()},n.onDrop=function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;n.handleFiles(t)},n.state={imageUrlArray:[],showModal:!1,showForm:!1,popImageUrl:"",dimensions:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.imageUrlArray.map((function(e,a){return r.a.createElement("div",{className:"main__image-wrapper"},r.a.createElement("img",{src:e,alt:"imageItem",onClick:function(){return t.handlePopup(e)},onLoad:t.onImgLoad,key:a,className:"main__image image"}))}));return r.a.createElement("div",{className:"main",onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDrop:this.onDrop},(this.state.showForm||0===this.state.imageUrlArray.length)&&r.a.createElement(h,(e={closeForm:this.closeForm,imageSubmitter:this.imageSubmitter,handleFiles:this.handleFiles},Object(s.a)(e,"imageSubmitter",this.imageSubmitter),Object(s.a)(e,"isEmpty",0===this.state.imageUrlArray.length),e)),0!==this.state.imageUrlArray.length&&r.a.createElement("section",{className:"main__container"},this.state.showModal&&r.a.createElement(b,{deleteImage:this.deleteImage,popImageUrl:this.state.popImageUrl,closePopup:this.handlePopup}),a,r.a.createElement("button",{className:"main__button_add button_add button",onClick:this.openForm})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.c712f347.chunk.js.map